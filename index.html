<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>爬虫配置文件生成工具</title>

<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="js/attribute.js"></script>
<script type="text/javascript" src="js/main.js"></script>

<script src="js/jquery.iDialog.js" dialog-theme="default"></script>
<script src="js/syntaxhighlighter/scripts/shCore.js"></script>
	<script src="js/syntaxhighlighter/scripts/shBrushJScript.js"></script>
	<link rel="stylesheet" href="js/syntaxhighlighter/styles/shCoreDefault.css"/>
<script type="text/javascript">
SyntaxHighlighter.config.toolbar = true;
	SyntaxHighlighter.all();
var arraytag=new Array(new Array(100,100));
var k=0;
var id="";
var str="";
var cssclass="";
var oldbo;
var oldhref="#";
var oldclick="#";
var locbreak=false;
var locbreakurl="";
var buttonlist=false;
$(document).ready(function(e) {
	 //$( "#dialoggz" ).dialog();
	
	$.dialog({
                title:'爬虫配置文件生成工具',
                id:'dialoggz', 
				content:document.getElementById('dialoggz'),				
                width:600,
                fixed: true,
                height:500
              });		  
	//getajax("http://bj.58.com/");
	$(document).keydown(function(e){
          if(e.ctrlKey){
			   
			   locbreak=true;
			}
          }).keyup(function(e){
			
			   locbreak=false;
			   
		  });
		  $("#load_content_html").click(function(e){
			
			  $("#load_content_html *").off("mouseenter",tagmouseenter);
				$("#load_content_html *").off("mouseleave",tagmouseleave);
				$(this).css('border',oldbo);
				buttonlist=false;
				$("#abspos").hide();
				if(locbreak && locbreakurl!="")
				{
					getajax(locbreakurl);
				}
				
		  });
	/*$("#load_content_html *").mouseenter(function(e){
		e.stopPropagation();
		oldbo=$(e).css('border');
		var list= this.attributes;
		
		this.onclick=function(e){
			stopDefault(e);
			}
		for(var i=0;i<list.length;i++)
		{
			if(list[i].name=='href')
			{
				//oldhref=list[i].value;
				//$(this).attr("href","#");
			}
			if(list[i].name=='onclick')
			{
				oldclick=list[i].value;
				//$(this).attr("onclick","void(0)");
			}
		}
		$(this).css('border','1px solid #f60');
		}).mouseleave(function(e){
			
			$(this).css('border',oldbo);
			//$(this).attr("href",oldhref);
			//$(this).attr("onclick",oldclick);
			oldhref="#";
			oldclick="void(0)";
			});*/
			
});



</script>
<style>
#dialoggz{  z-index:1; width:570px;}
#showtmlist{border-collapse: collapse; width:100%;}
#showtmlist tbody{}
#showtm{overflow-y:scroll;}
#showtm th,#tabletitle th { 
		padding: 6px; 
		border: 1px solid #ccc; 
		text-align:center; 
		
	}
#showtm td{ height:30px; overflow:hidden; line-height:30px;border: 1px solid #ccc;}
#showtm{overflow-y:scroll;}
#showattributelist{border-collapse: collapse; width:100%;}

#showattribute{overflow-y:scroll;}
#showattribute td{ height:30px; overflow:hidden; line-height:30px;border: 1px solid #ccc; }
#abspos{ display:none;position: absolute;  padding:2px;
z-index:1;}
</style>
</head>

<body>
<div id="abspos"></div>
<div id="dialoggz">
<form name="myform" action="/scpc" method="get">
打开网址:<input type="text" value="http://bj.58.com/" name="lo" id="lo"/>
<input type="button" value="打开" onclick="openurl()"/>
<input type="button" value="添加" onclick="addtm()"/>
<input type="hidden" value="" name="tm"/>
<input type="button" value="获取元素" onclick="getgz()"/>
<input type="button" value="生成" onclick="build()"/>

</form>

<table style="border-collapse: collapse; width:100%;" id="tabletitle">
<colgroup>
 <col style="width: 200px;" />
<col style="width: 100px;" />
<col style="width: 100px;"/>
<col />            
              
          </colgroup>
    <thead>
            <tr>
   <th>规则</th>
   <th>值</th>
   <th>命令</th>
   <th>操作</th>
</tr>    
         </thead>
   
</table>
<div id="showtm" style="border:1px solid #ccc; height:200px; width:100%;">

<table id="showtmlist" >
<colgroup>
 <col style="width: 200px;" />
<col style="width: 100px;" />
<col style="width: 100px;"/>
<col />     
              
          </colgroup>

</table>

</div>
属性设置
<div id="showattribute" style="border:1px solid #ccc; height:100px; width:100%; ">

<table id="showattributelist" >
<colgroup>
 <col style="width: 200px;" />
<col/>
    
              
          </colgroup>
<tbody>

</tbody>
</table>

</div>
<div id="">当前规则：<span id="show_gz"></span></div>
</div>
<div id="load_content_html">

</div>
</body>
</html>

</div>
</body>
</html>
